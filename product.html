<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Product Detail - DealHub</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<nav class="navbar">
    <div class="container nav-content">
        <div class="logo"><a href="index.html" style="color:inherit;text-decoration:none;">DealHub</a></div>
    </div>
</nav>

<main style="padding-top:110px;">
    <div class="container">
        <div id="productDetail" class="product-detail"></div>
    </div>
</main>

<footer class="footer" style="margin-top:60px;">
    <div class="container">
        <div style="color:#fff;padding:30px 0;">© 2026 DealHub</div>
    </div>
</footer>

<script src="products.js"></script>
<script>
    function queryParam(name){
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
    }

    const id = Number(queryParam('id'));
    const p = (window.products||[]).find(x=>x.id===id);
    const container = document.getElementById('productDetail');

    if(!p){
        container.innerHTML = '<p>Product not found. <a href="index.html">Go back</a></p>';
    } else {
        const discount = p.oldPrice ? Math.round((1 - p.price/p.oldPrice) * 100) : 0;
        container.innerHTML = `
            <div style="display:grid;grid-template-columns:1fr 1fr;gap:28px;align-items:start;">
                <div>
                    <img src="${p.image||''}" alt="${p.title}" style="width:100%;border-radius:12px;box-shadow:0 10px 30px rgba(2,6,23,0.12);">
                </div>
                <div>
                    <h1 style="font-size:28px;margin-bottom:8px;">${p.title}</h1>
                    <p style="color:var(--muted);margin-bottom:16px;">${p.desc}</p>
                    <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
                        <div style="font-size:22px;font-weight:800;">$${p.price}</div>
                        <div style="text-decoration:line-through;color:#9ca3af;">$${p.oldPrice}</div>
                        <div style="background:linear-gradient(90deg,#fb923c,#f97316);color:#fff;padding:6px 10px;border-radius:10px;">-${discount}%</div>
                    </div>
                    <div style="margin-bottom:18px;color:#f59e0b;font-weight:700;">★ ${p.rating} / 5</div>
                    <div style="display:flex;gap:12px;">
                        <a href="${p.link}" class="btn-primary">Buy Now</a>
                        <a href="index.html" class="btn-ghost">Back</a>
                    </div>
                    <section style="margin-top:22px;">
                        <h3>Product Details</h3>
                        <ul>
                            <li>Brand: DealHub Picks</li>
                            <li>Availability: In stock</li>
                            <li>Warranty: 1 year</li>
                        </ul>
                    </section>
                </div>
            </div>
        `;
    }
</script>
</body>
</html>
